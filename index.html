<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>טיימר אישי</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0b1020;
      color: #eaf0ff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      gap: 20px;
    }
    input, button {
      padding: 10px;
      font-size: 16px;
      border-radius: 8px;
      border: none;
    }
    button {
      background: #6ea8fe;
      color: white;
      cursor: pointer;
    }
    .display {
      font-size: 22px;
      background: #121734;
      padding: 20px;
      border-radius: 12px;
      width: 280px;
      text-align: center;
    }
  </style>
</head>
<body>
  <h2>⏳ טיימר אישי</h2>

  <label>כמה דקות להפעיל?
    <input type="number" id="minutes" placeholder="לדוגמה: 120">
  </label>
  <button onclick="startTimer()">הפעל טיימר</button>

  <div class="display" id="info">
    עדיין לא הופעל טיימר
  </div>

  <script>
    let endTime, timerInterval;

    function startTimer() {
      clearInterval(timerInterval);

      const minutes = parseInt(document.getElementById("minutes").value);
      if (isNaN(minutes) || minutes <= 0) {
        document.getElementById("info").innerText = "נא להכניס מספר דקות חוקי";
        return;
      }

      const startTime = new Date();
      endTime = new Date(startTime.getTime() + minutes * 60000);

      timerInterval = setInterval(updateDisplay, 1000);
      updateDisplay();
    }

    function updateDisplay() {
      const now = new Date();
      const remainingMs = endTime - now;

      if (remainingMs <= 0) {
        clearInterval(timerInterval);
        document.getElementById("info").innerHTML =
          `<b>שעת סיום:</b> ${endTime.toLocaleTimeString("he-IL", { hour: "2-digit", minute: "2-digit" })}<br>
           <b>הטיימר נגמר!</b>`;
        return;
      }

      const remainingSec = Math.floor(remainingMs / 1000);
      const hrs = Math.floor(remainingSec / 3600);
      const min = Math.floor((remainingSec % 3600) / 60);
      const sec = remainingSec % 60;

      const endTimeStr = endTime.toLocaleTimeString("he-IL", { hour: "2-digit", minute: "2-digit" });

      document.getElementById("info").innerHTML =
        `<b>שעת סיום:</b> ${endTimeStr}<br>
         <b>זמן שנשאר:</b> ${hrs}:${String(min).padStart(2,"0")}:${String(sec).padStart(2,"0")}`;
    }
  </script>
</body>
</html>
